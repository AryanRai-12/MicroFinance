#spring.application.name=MicroFinance
#spring.datasource.url=jdbc:mysql://localhost:3306/microfinance
#spring.datasource.username=root
#spring.datasource.password=LittleThings2*
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#spring.jpa.show-sql=true
#spring.jpa.hibernate.ddl-auto=update
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
#logging.level.org.hibernate.SQL=DEBUG
#logging.level.org.hibernate.tool.hbm2ddl=DEBUG
#
### App name
#spring.application.name=MicroFinance
#
## DataSource settings (can be overridden by Docker environment variables)
#spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/microfinance}
#spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
#spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:LittleThings2*}
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#
# Hibernate / JPA
#spring.jpa.show-sql=true
#spring.jpa.hibernate.ddl-auto=update
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
#
## Logging
#logging.level.org.hibernate.SQL=DEBUG
#logging.level.org.hibernate.tool.hbm2ddl=DEBUG


# App name
###############################################################################
# Basic application info
###############################################################################
spring.application.name=MicroFinance

###############################################################################
# Server
# Railway assigns $PORT dynamically; fall back to 8080 for local dev
###############################################################################
server.port=${PORT:8080}

###############################################################################
# DataSource
# • On Railway: MYSQLHOST / MYSQLPORT / MYSQLUSER / MYSQLPASSWORD / MYSQLDATABASE
#   are injected automatically by the managed MySQL service.
# • Locally: defaults to localhost:3306, root, and your original password.
###############################################################################
spring.datasource.url=jdbc:mysql://${MYSQLHOST:${SPRING_DATASOURCE_HOST:localhost}}:${MYSQLPORT:3306}/${MYSQLDATABASE:microfinance}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=${MYSQLUSER:${SPRING_DATASOURCE_USERNAME:root}}
spring.datasource.password=${MYSQLPASSWORD:${SPRING_DATASOURCE_PASSWORD:LittleThings2*}}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

###############################################################################
# JPA / Hibernate
###############################################################################
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update            # Consider flyway/liquibase for prod
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

###############################################################################
# Logging
###############################################################################
logging.level.root=INFO
logging.level.org.hibernate.SQL=DEBUG           # Show generated SQL
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.tool.hbm2ddl=DEBUG



################################################################################
##  MicroFinance ‑ Spring Boot configuration
################################################################################
#
#spring.application.name=MicroFinance
#
## ────────── DataSource ──────────
## • In Railway → set environment variables MYSQL_URL, MYSQLUSER, MYSQLPASSWORD
## • Locally it falls back to jdbc:mysql://localhost:3306/microfinance (user=root, pw=LittleThings2*)
#spring.datasource.url=${MYSQL_URL:jdbc:mysql://localhost:3306/microfinance}
#spring.datasource.username=${MYSQLUSER:root}
#spring.datasource.password=${MYSQLPASSWORD:LittleThings2*}
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#
## Optional Hikari pool tuning (safe defaults)
#spring.datasource.hikari.maximum-pool-size=10
#spring.datasource.hikari.minimum-idle=2
#spring.datasource.hikari.idle-timeout=600000
#
## ────────── Hibernate / JPA ──────────
#spring.jpa.hibernate.ddl-auto=update            # update, validate, create, create-drop
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
#spring.jpa.show-sql=true
#
## ────────── Logging ──────────
#logging.level.org.hibernate.SQL=DEBUG
#logging.level.org.hibernate.type.descriptor.sql=TRACE

